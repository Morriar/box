# Box engines

Engines are used to test student submissions within a box.

## Interface

Basically, an engine is a file called `test.sh` that provides the following functions:

* `help`:return the list of available functions in this engine
* `list`: return the list of all known tests for the box the test script is ran from
* `stars`: return the list of available stars that can be unlocked through this engine
* `test [tests...]`: run all tests or only the list passed as argument
* `status [tests...]`: return the status of the last execution for all tests or only for the list of tests passed as argument
* `history [tests...]`: return the list of all past status for all tests or only the list of tests passed as argument
* `clean`: clean all the files generated by the test engine

## Input / output

IN:
* `src`: source file(s) to test
* `test.in`: test input file(s) (can be a file or a directory)
* `test.res`: expected output (optional if the engine uses an oracle instead of a diff)
* `config.ini`: (engine meta-data)

OUT:
* `test.log`: the list of all commands used to run the test
* `test.out`: the obtained output from execution (in fact the output obtained by executin `test.log`)
* `test.status`: the obtained status (ok, ko), stars unlocked

## Meta-data

All meta-data for an engine are stored in a file nammed `engine.ini`:
* `id`: unique engine id
* `title` engine name as displayed in the frontend
* `description`: engine short description
